text(-1-2,'new')
text(-1,-2,'new')
text(-1,-1,'new')
f<-lm(x~y)
abline(f)
abline(f,lwd=3)
z<-rpois(100,2)
par(mfrow=c(2,1))
plot(x,y,pch=20)
plot(x,z, pch=20)
par('mar')
par(mar=c(3,2,2,2))
plot(x,y,pch=20)
plot(x,z, pch=20)
par(mfrow=c(1,2))
plot(x,y,pch=20)
plot(x,z, pch=20)
par(mar=c(1,3,1,1))
plot(x,y,pch=20)
plot(x,z, pch=20)
par(mar=c(1,4,1,1))
plot(x,z, pch=20)
plot(x,y,pch=20)
par(mar=c(0,4,0,0))
plot(x,y,pch=20)
plot(x,z, pch=20)
g<-gl(2,50)
g
x<rnorm(100)
x<-rnorm(100)
y<-x+rnorm(100)
x
y
g
g<-gl(2,50,labels=C('Male','Female'))
g<-gl(2,50,labels= C('Male','Female'))
g<-gl(2,50,labels= C("Male","Female"))
g<-gl(2,50,labels= C("male","memale"))
g<-gl(2,50,labels= C("male","female"))
labels= C("male","memale")
label= C("male","female")
label<- C("male","female")
label<- c("male","female")
g<-gl(2,50,labels= c("male","female"))
g
?devices
?Devices
pdf(file='test.pdf')
with(faithful,plot(eruptions,waiting))
title(main='Old Faithful Geyser data')
dev.off
dev.off()
list.files()
wdir()
dir()
wd()
wdr()
getwd()
?lines()
library(lattice)
library(datasets)
xyplot(Ozone ~ Wind,data=airquality)
airquality<-transform(airquality,Month=factor(Month))
xyplot(Ozone~Wind|Month,data=airquality,layout=c(5,1))
?transform
class(airquality$Ozone)
airquality<-transform(airquality,Ozone=as.character(Ozone))
class(airquality$Ozone)
airquality<-transform(airquality,Ozone=as.numeric(Ozone))
class(airquality$Ozone)
airquality<-transform(airquality,Ozone=as.integer(Ozone))
class(airquality$Ozone)
p<-xyplot(Ozone~Wind,data=airquality)
class(p)
print(p)
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
?lpoints
p <- xyplot(Ozone ~ Wind | factor(Month), data = airquality)
class(p)
print(p)
?print.trellis()
?splom()
trellis.par.set()
?trellis.par.set()
library(datasets)
data(airquality)
qplot(Wind,Ozone,data=airquality,geom='smooth')
library(ggplot2)
qplot(Wind,Ozone,data=airquality,geom='smooth')
qplot(Wind,Ozone,data=airquality)
qplot(Wind,Ozone,data=airquality,facets=.~factor(Month))
qplot(Wind,Ozone,data=airquality,facets= . ~ factor(Month))
airquality=transfrom(airquality,Month=factor(MOnth))
airquality=transform(airquality,Month=factor(MOnth))
airquality=transform(airquality,Month=factor(Month))
qplot(Wind,Ozone,data=airquality,facets= . ~ factor(Month))
qplot(Wind,Ozone,data=airquality,facets= . ~ Month)
library(ggplot2)
g <- ggplot(movies, aes(votes, rating))
print(g)
qplot(votes, rating, data = movies)
?stats_smooth()
?geom_smooth()
qplot(votes, rating, data = movies)
qplot(votes, rating, data = movies) + geom_smooth()
qplot(votes, rating, data = movies, panel=panel.loess)
qplot(votes, rating, data = movies) + stats_smooth("loess")
qplot(votes, rating, data = movies,smooth="loess")
qplot(votes, rating, data = movies)
str(mpg)
library(ggplot2)
str(mpg)
qplot(displ,hwy,data=mpg)
qplot(displ,hwy,data=mpg,color=drv)
qplot(displ,hwy,data=mpg,geom=c('point','smooth'),color=drv)
qplot(displ,hwy,data=mpg,geom=c('point','smooth'))
set.seed(1234)
par(mar=c(0,0,0,0))
x<-rnorm(12,mean=rep(1:3,each=4),sd=0.2)
y<-rnorm(12,mean=rep(c(1,2,1),each=4),sd=0.2)
plot(x,y,col='blue',pch=19,cex=2)
text(x+0.05,y+0.05, labels=as.characters(1:12))
text(x+0.05,y+0.05, labels=as.character(1:12))
dataFrame<-data.frame(x=x,y=y)
dataFrame
dist(dataFrame)
dxy<-dist(dataFrame)
hClust<-hclust(distxy)
hClust<-hclust(dxy)
plot(hclust)
plot(hClust)
km<-kmeans(dataFrame,centers=3)
names(km)
km$cluster
dataFrame
km$centers
plot(km$centers)
plot(dataFrame,col=km$cluster)
points(kn$centers,col=1:3)
points(km$centers,col=1:3)
points(km$centers,col=1:3,pch=3,cex=3,lwd=3)
colors()
packages.instal('RColorBrewer')
packages('RColorBrewer')
package('RColorBrewer')
instal.package('RColorBrewer')
packages('RColorBrewer')
install.package('RColorBrewer')
packages.install('RColorBrewer')
package.install('RColorBrewer')
install.packages("RColorBrewer")
d1<-read.csv(url(url("http://stat.columbia.edu/~rachel/datasets/nyt1.csv"))
d1<-read.csv(url("http://stat.columbia.edu/~rachel/datasets/nyt1.csv"))
names(d1)
head(d1)
nrows(d1)
nrow(d1)
breaks<-c(18,24,34,44,54,64,100)
breaks
a <- cut(d1$Age,breaks)
a
head(a)
breaks
breaks(0,17,24,34,44,54,64,100)
breaks<-(0,17,24,34,44,54,64,100)
breaks<-c(0,17,24,34,44,54,64,100)
a <- cut(d1$Age,breaks)
head(a)
?cut
d1$age_group <- cut(d1$Age,breaks)
head(d1)
a <- cut(d1$Age,c(-Inf,0,18,24,34,44,54,64,Inf))
head(a)
summary(d1)
hist(summary(d1))
?hist
hist(d1$Age,breaks=d1$age_group)
hist(d1$Age)
head(d1)
hist(d1$impressions)
hist(d1$Impressions)
install.packages('doBy')
?doBy
??doBy
siterange<-finction(x){c(length(x),min(x),mean(x),max(x))}
siterange<-function(x){c(length(x),min(x),mean(x),max(x))}
?summaryBy
??summaryBy
summaryBY(Age~age_group,data=d1,FUN=siterange)
library('doBy')
summaryBY(Age~age_group,data=d1,FUN=siterange)
library('doBy')
summaryBY(Age~age_group,data=d1,FUN=siterange)
?summaryBy
summaryBy(Age~age_group,data=d1,FUN=siterange)
head(d1)
hist(d1$impressions,breaks=c(-Inf,0,18,24,34,44,54,64,Inf))
hist(as.numeric(d1$impressions),breaks=c(-Inf,0,18,24,34,44,54,64,Inf))
hist(as.numeric(d1$impressions),breaks=c(0,18,24,34,44,54,64))
hist(as.numeric(d1$Impressions),breaks=c(0,18,24,34,44,54,64))
hist(d1$Impressions,breaks=c(0,18,24,34,44,54,64))
hist(d1$Impressions
)
?aes()
?aes
??aes
library(ggplot2)
install.packages('ggplot2')
library(ggplot2)
install.packages('RColorBrewer')
library(ggplot2)
?aes
ggplot(d1,aes(x=Impressions,fill=age_group))
ggplot(d1,aes(x=Impressions,fill=age_group)) + geom_histogram(binwidth=1)
ggplot(d1,aes(x=age_group,y=impressions,fill=age_group)) + geom_bocplot())
ggplot(d1,aes(x=age_group,y=impressions,fill=age_group)) + geom_boxplot())
ggplot(d1,aes(x=age_group,y=impressions,fill=age_group)) + geom_boxplot()
ggplot(d1,aes(x=Impressions,fill=age_group)) + geom_histogram(binwidth=1)
ggplot(d1,aes(x=age_group,y=Impressions,fill=age_group)) + geom_boxplot()
summaryBy(Age~age_group,data=d1,FUN=siterange)
siterange
summaryBy(Impressions~age_group,data=d1,FUN=siterange)
d1$hasImps<-cut(d1$Impressions,c(-Inf,0,Inf))
head(d1)
tail(d1)
summaryBy(Clicks~hasImps,data=d1,FUN=siterange)
siterange
x<-subset(d1,Impressions>0)
head(x)
nrow(x)
nrow(d1)
ggplot(x,aes(x=Clicks/Impressions,color=age_group))+ geom_density()
ggplot(subset(d1,Clicks>0),aes(x=Clicks/Impressions,color=age_group))+ geom_density()
ggplot(subset(d1,Impressions>0),aes(x=Clicks/Impressions,color=age_group))+ geom_density()
ggplot(subset(d1,Clicks>0),aes(x=age_group,y=Clicks,fill=age_group))+ geom_boxplot()
ggplot(subset(d1,Clicks>0),aes(x=Clicks,colour=age_group))+ geom_density()
d1$scode[d1$Impressions==0]<-"NoImps"
head(d1,20)
head(d1,50)
d1$scode[d1$Impressions>0]<-"Imps"
d1$scode[d1$Clicks>0]<-"Imps"
head(d1)
d1$scode<-as.factor(d1$scode)
head(d1)
class(d1$scode)
str(d1)
d1$scode[d1$Clicks>0]<-"Clicks"
d1$scode<-as.charcter(d1$scode)
d1$scode<-as.character(d1$scode)
d1$scode[d1$Clicks>0]<-"Clicks"
d1$scode<-factor(d1$scode)
str(d1)
head(d1)
update.packages()
y
y
y
ls()
rm(ls())
rm(ls()=all)
rm(1:88)
rm(c(1:88)
)
?rm()
rm(list=ls())
ls()
g<-scan()
?scan()
g<-scan(what=character())
g
g<-factor(g)
g
mode(g)
class(g)
a<-scan(what=character)
a<-scan(what=character())
a<-factor(a)
a
table(a,g)
a<-
a
a[4]<-teenager
a[4]<-'teenager'
a
a<-factor(a)
a
table(a,g)
t<-table(a,g)
margin.table(t,1)
margin.table(t,2)
prop.table(t,1)
prop.table(t,2)
prop.table(t)
setwd("~/R/Coursera/EDataAnalysis")
ls
ls()
ls()
ls
?ls
dir
dir()
?less
??less
pm0 <-read.table("RD_501_88101_1999-0.txt", comment.char='#', header=F,sep='|',na.strings='')
dim(pm0)
head(pm0)
cnames<-readlines('RD_501_88101_1999-0.txt',1)
cnames<-readLines('RD_501_88101_1999-0.txt',1)
cnames
cnames<-strsplit(cnames,'|',fixed=T)
cnames
names(pm0)<-cnames[[1]]
head(names)
head(pm0)
names(pm0)<-make.names(cnames[[1]])
head(pm0)
x0<-pm0$Sample.Value
class(x0)
str(x0)
summary(x0)
mean(is.na(x0))
dir()
pm1<-read.table('RD_501_88101_2012-0.txt',comments.char='#',sep='|',header=F,na.strings='')
pm1<-read.table('RD_501_88101_2012-0.txt',comment.char='#',sep='|',header=F,na.strings='')
cnames<-readLines('RD_501_88101_2012-0.txt',1)
cnames<-strsplit(cnames,'|',fixed=T)
cnames
names(pm1)<-make.names(cnames[[1]])
head(pm1)
x1=pm1$Sample.Value
str(x1)
summary(x1)
mean(is.na(x1))
dim(pm1)
summary(x1)
summary(x0)
boxplot(x0,x1)
boxplot(log10(x0),log10(x1))
summary(x1)
negative <- x1 <0
str(negative)
sum(negative,na.rm=T)
dates<-pm1$Date
str$Dates
str(dates)
dates<-as.Date(as.character(dates),'%Y%m%d')
str(dates)
hist(dates,'month')
hist(dates[negative])
hist(dates[negative],'month')
site0<-uniques(subset(pm0,State.Code==36, c(County.Code, Site.ID)))
site0<-unique(subset(pm0,State.Code==36, c(County.Code, Site.ID)))
head(Site0)
head(site0)
site0<-unique(subset(pm1,State.Code==36, c(County.Code, Site.ID)))
site0<-unique(subset(pm0,State.Code==36, c(County.Code, Site.ID)))
site1<-unique(subset(pm1,State.Code==36, c(County.Code, Site.ID)))
head(site1)
site0<-paste(site0$County.Code,site0$Site.ID)
site1<-paste(site1$County.Code,site1$Site.ID)
head(site0)
site1<-paste(site1$County.Code,site1$Site.ID,sep='.')
site0<-unique(subset(pm0,State.Code==36, c(County.Code, Site.ID)))
site1<-unique(subset(pm1,State.Code==36, c(County.Code, Site.ID)))
site0<-paste(site0$County.Code,site0$Site.ID,sep='.')
site1<-paste(site1$County.Code,site1$Site.ID,sep='.')
head(site0)
head(site1)
intersect(site0,site1)
both<-intersect(site0,site1)
pm0$county.site<-with(pm0, paste(County.Code,Site.ID,sep='.'))
pm1$county.site<-with(pm1, paste(County.Code,Site.ID,sep='.'))
cnt0<-subset(pm0,State.Code=36 & county.site %in% both)
cnt1<-subset(pm1,State.Code=36 & county.site %in% both)
head(cnt0)
sapply(split(cnt0,cnt0$county.site),nrow)
sapply(split(cnt1,cnt1$county.site),nrow)
both
cnt0<-subset(pm0,State.Code==36 & county.site %in% both)
cnt1<-subset(pm1,State.Code==36 & county.site %in% both)
sapply(split(cnt0,cnt0$county.site),nrow)
sapply(split(cnt1,cnt1$county.site),nrow)
pm1sub<-subset(pm1,Sate.Code==36 & County.Code == 63 & Site.ID==2008)
pm1sub<-subset(pm1,State.Code==36 & County.Code == 63 & Site.ID==2008)
pm0sub<-subset(pm0,State.Code==36 & County.Code == 63 & Site.ID==2008)
dim(pm0sub)
dim(pm1sub)
dates1<-pm1sub$Date
x1sub<-pm1sub$Sample.Value
dates0<-pm0sub$Date
x0sub<-pm0sub$Sample.Value
plot(dates0,x0sub)
dates0<- as.Date(as.character(dates0),'%Y%m%d')
dates1<- as.Date(as.character(dates1),'%Y%m%d')
plot(dates0,x0sub)
plot(dates1,x1sub)
par(mfrow=c(1,2))
par(mfrow=c(1,2), mar=c(4,4,2,1))
plot(dates0,x0sub,pch=20)
abline(h=median(x0sub,na.rm=T))
plot(dates1,x1sub,pch=20)
abline(h=median(x1sub,na.rm=T))
range(x0sub,x1sub,na.rm-T)
range(x0sub,x1sub,na.rm=T)
rng<-range(x0sub,x1sub,na.rm=T)
plot(dates0,x0sub,pch=20,ylim=rng)
abline(h=median(x0sub,na.rm=T))
plot(dates1,x1sub,pch=20)
plot(dates1,x1sub,pch=20,ylim=rng)
plot(dates0,x0sub,pch=20,ylim=rng)
plot(dates0,x0sub,pch=20,ylim=rng)
abline(h=median(x0sub,na.rm=T))
plot(dates1,x1sub,pch=20,ylim=rng)
abline(h=median(x1sub,na.rm=T))
plot(dates0,x0sub,pch=20,ylim=rng)
par(mfrow=c(1,2), mar=c(4,4,2,1))
plot(dates0,x0sub,pch=20,ylim=rng)
abline(h=median(x0sub,na.rm=T))
plot(dates1,x1sub,pch=20,ylim=rng)
abline(h=median(x1sub,na.rm=T))
head(pm0)
mn0 <- with(pm0,tapply(Sample.Value,State.Code,mean,na.rm=T))
str(mn0)
summary(mn0)
mn1 <-with(pm1,tapply(Sample.Value,State.Code,na.rm=T))
str(mn1)
mn1 <-with(pm1,tapply(Sample.Value,State.Code,mean,na.rm=T))
str(mn1)
summary(mn1)
names(mn1)
d0<- data.frame(state=names(mn0),mean=mn0)
d1<- data.frame(state=names(mn1),mean=mn1)
head(d0)
head(d1)
mrg <- merge(d0,d1, by - 'stste')
mrg <- merge(d0,d1, by - 'state')
mrg <- merge(d0,d1, by = 'state')
dim(mrg)
head(mrg)
par(mfrow=c(1,1))
with(mrg, plot(rep(1999),53),mrg$mean.x, xlim=c(1998,2013))
with(mrg, plot(rep(1999,53),mrg$mean.x, xlim=c(1998,2013)))
with(mrg, points(rep(2012,53),mrg$mean.y, xlim=c(1998,2013)))
segments(rep(1999,53),mrg$mean.x,rep(2012,53),mrg$mean.y)
x <- 1:4
p <- x/sum(x)
temp <- rbind(x, p)
rownames(temp) <- c("X", "Prob")
temp
install.packages('knitr')
install.packages('DMwR')
install.packages('RMySQL')
install.packages(c("gtools", "jsonlite", "Rcpp", "swirl", "yaml"))
installed.packages()
library()
x<-c(0,1,2,3,1,2,1,2,3)
x[x<3]
x<3
cat('hello')
y<-45
cat(y)
y
library(DMwr)
library(DMwR)
head(algae)
summary(algae)
hist(algae$mxPH, prob=T)
hist(algae$mxPH, prob=F)
hist(algae$mxPH, prob=T)
library(car)
install.packages('car')
library(car)
par(mfrow=c(1,2))
hist(algae$mxPH, prob=T,xlab='',main='Hist of max pH',ylim=0:1)
lines(density(algae$mxPH,na.rm=T))
rug(jitter(algae$mxPH))
qq.plot(algae$mxPH, main='Normal QQ plot of max pH')
qqplot(algae$mxPH, main='Normal QQ plot of max pH')
par(mfrow=c(1,1))
boxplot(algae$oP04,ylab='Orthophosphate (oP04)')
boxplot(algae$oPO4,ylab='Orthophosphate (oPO4)')
rug(jitter(algae$oPO4),side=2)
abline(h=mean(algae$oPO4,na.rm=T), lty=2)
plot(algae$NH4,xlab='')
abline(h=mean(algae$NH4,na.rm=T),lty=1)
abline(h=mean(algae$NH4,na.rm=T) + sd(algae$NH4,na.rm=T),lty=2)
abline(h=median(algae$NH4,na.rm=T),lty=3)
identify(algae$NH4)
plot(algae$NH4, xlab='')
clicked.lines<-identify(algae$NH4)
algae[clicked.lines,]
algae[!is.na(algae$NH4) & algae$NH4 > 19000,]
library(lattice)
bwplot(size~a1,data=algae,ylab='River Size', xlab='Algal A1')
library(Hmisc)
install.packages('Hmisc')
library(Hmisc)
bwplot(size ~ a1, data=algae, panel=panel.bpplot,probs=seq(.01,.49,by=.01),)
bwplot(size ~ a1, data=algae, panel=panel.bpplot,probs=seq(.01,.49,by=.01), datadensity=T,ylab='River Size', xlab='Algal A1')
min02<-equal.count(na.omit(algae$mn02),number=4,overlap=1/5)
min02<-equal.count(na.omit(algae$mnO2),number=4,overlap=1/5)
stripplot(season ~ a3|min02, data=algae[!is.na(algae$mnO2),])
nrow(algae[!complete.cases(algae),])
nrow(algae)
algae[!complete.cases(algae),]
apply(algae,1,function(x) sum(is.na(x)))
data(algae)
manyNAs(algae,0.2)
setwd("~/GitHub/RepData_PeerAssessment1")
dir()
